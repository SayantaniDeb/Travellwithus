@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles */
nav {
  background-color: black;
}

/* Custom responsive utilities */
@layer components {
  /* Container with responsive padding */
  .container-responsive {
    @apply w-full px-4 mx-auto;
    @apply sm:px-6 md:px-8 lg:px-12;
  }

  /* Responsive text sizes */
  .text-responsive-sm {
    @apply text-xs sm:text-sm md:text-base;
  }

  .text-responsive-base {
    @apply text-sm sm:text-base md:text-lg;
  }

  .text-responsive-lg {
    @apply text-base sm:text-lg md:text-xl lg:text-2xl;
  }

  .text-responsive-xl {
    @apply text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl;
  }

  /* Responsive spacing */
  .py-responsive {
    @apply py-4 sm:py-6 md:py-8 lg:py-12;
  }

  .mt-responsive {
    @apply mt-16 sm:mt-20 md:mt-24;
  }

  /* Card styles */
  .card-responsive {
    @apply rounded-lg overflow-hidden shadow-lg bg-white;
    @apply transform transition-all duration-300 hover:scale-105 hover:shadow-xl;
  }

  /* Button responsive */
  .btn-responsive {
    @apply px-3 py-2 text-sm sm:px-4 sm:py-2 sm:text-base md:px-6 md:py-3;
  }

  /* Grid responsive */
  .grid-responsive {
    @apply grid grid-cols-1 gap-4;
    @apply sm:grid-cols-2 sm:gap-6;
    @apply lg:grid-cols-3 lg:gap-8;
    @apply xl:grid-cols-4;
  }
}

/* Page layout for fixed footer */
.page-wrapper {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.page-content {
  flex: 1;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Better touch targets on mobile */
@media (max-width: 640px) {
  button, a {
    min-height: 44px;
  }
  
  /* Add bottom padding for mobile bottom nav */
  .pb-mobile-nav {
    padding-bottom: 80px;
  }
  
  /* Main content area should account for bottom nav */
  main, .main-content {
    padding-bottom: 80px;
  }
}

/* Modal animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.animate-fadeIn {
  animation: fadeIn 0.3s ease-out;
}

.animate-slideUp {
  animation: slideUp 0.4s ease-out;
}

/* Location badge pulse animation */
@keyframes pulse-soft {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

.animate-pulse-soft {
  animation: pulse-soft 2s ease-in-out infinite;
}

/* Mobile input focus fixes to prevent auto-zoom */
@media screen and (max-width: 768px) {
  /* Prevent zoom on input focus for iOS Safari */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="tel"],
  input[type="url"],
  input[type="search"],
  textarea,
  select {
    font-size: 16px !important; /* Minimum 16px prevents zoom on iOS */
    -webkit-appearance: none;
    appearance: none;
    -webkit-text-size-adjust: 100%;
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
  }

  /* Prevent viewport jumping on focus */
  input:focus,
  textarea:focus,
  select:focus {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
  }

  /* Smooth transitions for focus states */
  input,
  textarea,
  select {
    transition: none; /* Disable transitions that might cause layout shifts */
  }
}

/* Additional mobile optimizations */
* {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  -webkit-touch-callout: none;
  -webkit-user-select: text;
  -khtml-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
  user-select: text;
}

/* Prevent horizontal scroll on mobile */
html, body {
  overflow-x: hidden;
  width: 100%;
}

/* Mobile viewport height variable for consistent height calculations */
html {
  --vh: 1vh;
}

body {
  min-height: calc(var(--vh, 1vh) * 100);
}

/* Fix for iOS Safari input zoom */
@media screen and (max-width: 767px) {
  input[type="text"]:focus,
  input[type="email"]:focus,
  input[type="password"]:focus,
  input[type="number"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="search"]:focus,
  textarea:focus {
    font-size: 16px !important;
    transform: scale(1);
    -webkit-transform: scale(1);
  }
}

/* Prevent layout shifts during keyboard appearance */
@media screen and (max-width: 768px) {
  body.keyboard-visible {
    position: fixed !important;
    width: 100% !important;
    top: 0 !important;
  }

  /* Ensure inputs don't cause zoom on iOS */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="tel"],
  input[type="url"],
  input[type="search"],
  textarea {
    font-size: 16px !important;
    transform: scale(1);
    -webkit-transform: scale(1);
    appearance: none;
    -webkit-appearance: none;
    border-radius: 0;
  }

  /* Prevent body scroll when modal/input is focused */
  .modal-open {
    position: fixed;
    width: 100%;
    overflow: hidden;
  }
}